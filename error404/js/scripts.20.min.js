/*! Magic 2017-03-15 */
function updateGridCopyPosition(){var a=0;a=windowWidth>1200?30:20,$(".po_grid header").each(function(b){if(null!=prevElement){var c=prevElement.position().top+prevElement.height()+a;$(this).css("top",c+"px")}prevElement=(b-2)%3==0?null:$(this)})}function fixSafariHeightBug(a){var b=602,c=818,d=a.width(),e=b/c*d;a.height(e)}function homePageImageResize(){$(".homeimage").each(function(){var a=$(window).height(),b=$("img",this).height()+$("img",this).offset().top;b>a&&$(this).css({height:a,overflow:"hidden"}),a-5>b&&$(this).css({height:"auto",overflow:"show"})})}var prevElement=null,navVisible=!1,windowWidth=window.innerWidth,isSafari,isWebkit,isProject=!1,testimonials,currentTestimonial,testimonialTimeout,offset=0,logoInitialTop=0;$(document).ready(function(){function a(a,b){var c=a.offset().top;h||$.each(["html","body"],function(a,b){var c=$(b);return c.scrollTop()>1?(h=c,!1):(c.scrollTop(1),c.scrollTop()>0?(h=c,c.scrollTop(0),!1):void 0)}),h?h.animate({scrollTop:c},{complete:b}):b&&b()}function b(){Modernizr.mq("(max-width : 630px)")||(isProject?(updateGridCopyPosition(),homePageImageResize(),isSafari&&fixSafariHeightBug($("#computer"))):c())}function c(){var a=$(window).height(),b=$("#site-footer").height(),c=$("#site-footer").position().top+b;a>c+7?$("#site-footer").css("margin-top",-6+(a-c)+"px"):$("#site-footer").css("margin-top","100px")}function d(){function a(a){width=a.width,height=a.height;var b=2;a.width=width*b,a.height=height*b}function b(){$(window).on("scroll",c)}function c(){var a=$(window).scrollTop();180>a&&(l.clearRect(0,0,k.width,k.height),l.drawImage(i,0,0),l.globalCompositeOperation="source-in",l.drawImage(j,0,.75*a),l.globalCompositeOperation="source-over")}function d(){for(var a=0;a<g.length;a++){var b=new Image;b.addEventListener("load",e,!0),b.src=g[a]}}function e(a){h++;var b=a.target.src;b.split("/").pop()==g[0].split("/").pop()?i.src=b:j.src=b,h==g.length&&f()}function f(){c(),b()}if(!$("html").hasClass("no-svg")){var g=new Array("/images/hat@2x.png","/images/rabbit@2x.jpg"),h=0,i=new Image,j=new Image,k=document.getElementById("logo"),l=k.getContext("2d");a(k,l),d()}}function e(a){clearTimeout(testimonialTimeout),testimonials.eq(currentTestimonial).hide(),testimonials.eq(a).hide(),g(a)}function f(){testimonialTimeout=setTimeout(function(){testimonials.eq(currentTestimonial).fadeOut("slow",function(){g(currentTestimonial==testimonials.length-1?0:currentTestimonial+1)})},8e3)}function g(a){$("#testimonialbuttons li").eq(currentTestimonial).removeClass("on"),$("#testimonialbuttons li").eq(a).addClass("on"),testimonials.eq(a).fadeIn("slow",function(){currentTestimonial=a,f()})}isWebkit=Modernizr.testProp("webkitMask"),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&(isSafari=!0),$("#projectoverview").each(function(){isProject=!0}),$("#navtrigger").on("click",function(){return navVisible?($("#primary").animate({top:"-200px"},{duration:100}),$("#burger",this).toggleClass("active"),navVisible=!1):($("#primary").animate({top:0},{duration:100}),$("#burger",this).toggleClass("active"),navVisible=!0),!1}),$("#primary").each(function(){var a=$(this).children("[title=Work][class=on]").attr("href","#work");"none"!=$("#navtrigger").css("display")&&a.on("click",function(){return $("#navtrigger").trigger("click"),!0})}),$("a[href^=#]").on("click",function(){var b=this.hash,c=$(b);return c.length?(a(c,function(){location.hash=b}),!1):void 0});{var h;$("#logo")}$(window).resize(function(){b()}),d(),$("#testimonials").each(function(){currentTestimonial=0,testimonials=$("div",$(this)),$("div",$(this)).not(":first").hide(),$.each($("div",$(this)),function(a){$("#testimonialbuttons").append(0==a?'<li class="on"><a href="#"></a></li>':'<li><a href="#"></a></li>')}),$("#testimonialbuttons li a").on("click",function(){var a=$("#testimonialbuttons li").index($(this).parent());return e(a),!1}),f()}),$(".banner-launch").on("click",function(){return $(this).parent().append($('<div class="banner-outer">').load(this.href+" .banner-inner",function(){$(this).parent().append('<a href="close" class="bannerclose">Close</a>')})),!1}),$(".iframe-banner-launch").on("click",function(){var a=$("img",this).width(),b=$("img",this).height();return $("<iframe />",{name:"bannerFrame","class":"banner-iframe",width:a,height:b,frameBorder:0,scrolling:"no",src:this.href}).wrap("<div class='banner-outer' />").parent().appendTo($(this).parent()),$(this).parent().append('<a href="close" class="bannerclose">Close</a>'),!1}),window.shutdownBanner=function(){$(".bannerclose").trigger("click")},$(".projectimages").on("click",".bannerclose",function(){return $(this).prev().fadeOut(500,function(){$(this).remove()}),$(this).remove(),!1}),$(".lotto-overview").each(function(){function a(){h=document.getElementById("lotto-plume1"),j=new createjs.Stage(h);var a=[{src:"/images/lotto-tickets.png",id:"tickets"}];i=new createjs.LoadQueue(!1),i.addEventListener("complete",b),i.loadManifest(a)}function b(){var a=new createjs.SpriteSheet({images:[i.getResult("tickets")],frames:[[138,2,66,43,0,30.8,20.4],[398,2,60,43,0,28.8,20.4],[121,47,55,43,0,25.8,20.4],[169,124,48,43,0,22.8,20.4],[161,169,43,43,0,19.8,20.4],[41,220,37,43,0,17.8,20.4],[347,265,32,43,0,14.8,20.4],[480,273,27,43,0,12.8,20.4],[480,318,21,43,0,9.8,20.4],[493,137,15,43,0,6.8,20.4],[446,360,9,43,0,3.8,20.4],[46,348,14,43,0,5.8,20.4],[412,322,21,43,0,8.8,20.4],[107,306,26,43,0,10.8,20.4],[381,265,32,43,0,13.8,20.4],[376,220,37,43,0,15.8,20.4],[47,175,43,43,0,17.8,20.4],[118,92,49,43,0,20.8,20.4],[364,47,54,43,0,22.8,20.4],[2,47,60,43,0,25.8,20.4],[206,2,66,43,0,30.8,20.4],[2,47,60,43,0,28.8,20.4],[364,47,54,43,0,25.8,20.4],[118,92,49,43,0,22.8,20.4],[47,175,43,43,0,19.8,20.4],[376,220,37,43,0,17.8,20.4],[381,265,32,43,0,14.8,20.4],[107,306,26,43,0,12.8,20.4],[412,322,21,43,0,9.8,20.4],[46,348,14,43,0,6.8,20.4],[478,363,9,43,0,3.8,20.4],[493,137,15,43,0,5.8,20.4],[480,318,21,43,0,8.8,20.4],[480,273,27,43,0,10.8,20.4],[347,265,32,43,0,13.8,20.4],[41,220,37,43,0,15.8,20.4],[161,169,43,43,0,17.8,20.4],[169,124,48,43,0,20.8,20.4],[121,47,55,43,0,22.8,20.4],[398,2,60,43,0,25.8,20.4],[138,2,66,43,0,30.8,20.4]],framerate:30}),b=new createjs.SpriteSheet({images:[i.getResult("tickets")],frames:[[178,86,63,36,0,30.4,17.2],[308,92,58,36,0,28.4,17.2],[61,137,53,36,0,25.4,17.2],[206,200,47,36,0,22.4,17.2],[239,239,41,36,0,19.4,17.2],[188,276,36,36,0,17.4,17.2],[352,310,30,36,0,14.4,17.2],[260,332,25,36,0,12.4,17.2],[2,346,20,36,0,9.4,17.2],[264,277,15,36,0,7.4,17.2],[500,363,8,36,0,3.4,17.2],[373,348,15,36,0,6.4,17.2],[24,348,20,36,0,8.4,17.2],[384,310,26,36,0,11.4,17.2],[135,306,31,36,0,13.4,17.2],[226,277,36,36,0,15.4,17.2],[80,240,41,36,0,17.4,17.2],[255,201,47,36,0,20.4,17.2],[273,163,52,36,0,22.4,17.2],[368,123,58,36,0,25.4,17.2],[243,86,63,36,0,30.4,17.2],[368,123,58,36,0,28.4,17.2],[273,163,52,36,0,25.4,17.2],[255,201,47,36,0,22.4,17.2],[80,240,41,36,0,19.4,17.2],[226,277,36,36,0,17.4,17.2],[135,306,31,36,0,14.4,17.2],[384,310,26,36,0,12.4,17.2],[24,348,20,36,0,9.4,17.2],[373,348,15,36,0,7.4,17.2],[138,364,8,36,0,3.4,17.2],[264,277,15,36,0,6.4,17.2],[2,346,20,36,0,8.4,17.2],[260,332,25,36,0,11.4,17.2],[352,310,30,36,0,13.4,17.2],[188,276,36,36,0,15.4,17.2],[239,239,41,36,0,17.4,17.2],[206,200,47,36,0,20.4,17.2],[61,137,53,36,0,22.4,17.2],[308,92,58,36,0,25.4,17.2],[178,86,63,36,0,30.4,17.2]],framerate:30}),f=new createjs.SpriteSheet({images:[i.getResult("tickets")],frames:[[2,2,66,43,0,30.8,20.4],[274,2,60,43,0,28.8,20.4],[64,47,55,43,0,25.8,20.4],[460,2,48,43,0,22.8,20.4],[116,137,43,43,0,19.8,20.4],[2,211,37,43,0,17.8,20.4],[2,256,32,43,0,14.8,20.4],[480,228,27,43,0,12.8,20.4],[485,47,21,43,0,9.8,20.4],[493,92,15,43,0,6.8,20.4],[216,350,9,43,0,3.8,20.4],[462,322,14,43,0,5.8,20.4],[62,316,21,43,0,8.8,20.4],[2,301,26,43,0,10.8,20.4],[36,265,32,43,0,13.8,20.4],[157,214,37,43,0,15.8,20.4],[2,166,43,43,0,17.8,20.4],[67,92,49,43,0,20.8,20.4],[308,47,54,43,0,22.8,20.4],[336,2,60,43,0,25.8,20.4],[70,2,66,43,0,30.8,20.4],[336,2,60,43,0,28.8,20.4],[308,47,54,43,0,25.8,20.4],[67,92,49,43,0,22.8,20.4],[2,166,43,43,0,19.8,20.4],[157,214,37,43,0,17.8,20.4],[36,265,32,43,0,14.8,20.4],[2,301,26,43,0,12.8,20.4],[62,316,21,43,0,9.8,20.4],[462,322,14,43,0,6.8,20.4],[435,360,9,43,0,3.8,20.4],[493,92,15,43,0,5.8,20.4],[485,47,21,43,0,8.8,20.4],[480,228,27,43,0,10.8,20.4],[2,256,32,43,0,13.8,20.4],[2,211,37,43,0,15.8,20.4],[116,137,43,43,0,17.8,20.4],[460,2,48,43,0,20.8,20.4],[64,47,55,43,0,22.8,20.4],[274,2,60,43,0,25.8,20.4],[2,2,66,43,0,30.8,20.4]],framerate:30}),g=new createjs.SpriteSheet({images:[i.getResult("tickets")],frames:[[420,47,63,36,0,29.6,16.4],[219,124,57,36,0,27.6,16.4],[343,161,52,36,0,24.6,16.4],[327,199,47,36,0,22.6,16.4],[304,237,41,36,0,19.6,16.4],[70,278,35,36,0,16.6,16.4],[30,310,30,36,0,14.6,16.4],[435,322,25,36,0,11.6,16.4],[85,316,20,36,0,9.6,16.4],[390,348,14,36,0,6.6,16.4],[489,363,9,36,0,3.6,16.4],[200,350,14,36,0,5.6,16.4],[352,348,19,36,0,7.6,16.4],[233,332,25,36,0,10.6,16.4],[320,310,30,36,0,12.6,16.4],[282,275,36,36,0,15.6,16.4],[196,238,41,36,0,17.6,16.4],[462,190,46,36,0,19.6,16.4],[219,162,52,36,0,22.6,16.4],[2,128,57,36,0,24.6,16.4],[420,85,63,36,0,29.6,16.4],[2,128,57,36,0,27.6,16.4],[219,162,52,36,0,24.6,16.4],[462,190,46,36,0,22.6,16.4],[196,238,41,36,0,19.6,16.4],[282,275,36,36,0,16.6,16.4],[320,310,30,36,0,14.6,16.4],[233,332,25,36,0,11.6,16.4],[352,348,19,36,0,9.6,16.4],[200,350,14,36,0,6.6,16.4],[127,364,9,36,0,3.64,16.4],[390,348,14,36,0,5.6,16.4],[85,316,20,36,0,7.6,16.4],[435,322,25,36,0,10.6,16.4],[30,310,30,36,0,12.6,16.4],[70,278,35,36,0,15.6,16.4],[304,237,41,36,0,17.6,16.4],[327,199,47,36,0,19.6,16.4],[343,161,52,36,0,22.6,16.4],[219,124,57,36,0,24.6,16.4],[420,47,63,36,0,29.6,16.4]],framerate:30}),h=new createjs.SpriteSheet({images:[i.getResult("tickets")],frames:[[178,47,63,37,0,30.4,17.2],[428,123,63,33,0,30.4,15.2],[278,130,63,31,0,30.4,14.2],[92,182,63,28,0,30.4,13.2],[415,228,63,25,0,30.4,11.2],[415,255,63,23,0,30.4,10.2],[415,280,63,20,0,30.4,8.2],[415,302,63,18,0,30.4,7.2],[168,334,63,14,0,30.4,5.2],[287,348,63,12,0,30.4,4.2],[62,361,63,9,0,30.4,3.2],[135,350,63,12,0,30.4,4.2],[233,315,63,15,0,30.4,6.2],[168,315,63,17,0,30.4,7.2],[107,284,63,20,0,30.4,9.2],[123,259,63,23,0,30.4,10.2],[92,212,63,26,0,30.4,12.2],[397,190,63,28,0,30.4,13.2],[428,158,63,30,0,30.4,14.2],[2,92,63,34,0,30.4,16.2],[243,47,63,37,0,30.4,17.2],[2,92,63,34,0,30.4,15.2],[428,158,63,30,0,30.4,14.2],[397,190,63,28,0,30.4,13.2],[92,212,63,26,0,30.4,11.2],[123,259,63,23,0,30.4,10.2],[107,284,63,20,0,30.4,8.2],[168,315,63,17,0,30.4,7.2],[233,315,63,15,0,30.4,5.2],[135,350,63,12,0,30.4,4.2],[287,362,63,9,0,30.4,3.2],[287,348,63,12,0,30.4,4.2],[168,334,63,14,0,30.4,6.2],[415,302,63,18,0,30.4,7.2],[415,280,63,20,0,30.4,9.2],[415,255,63,23,0,30.4,10.2],[415,228,63,25,0,30.4,12.2],[92,182,63,28,0,30.4,13.2],[278,130,63,31,0,30.4,14.2],[428,123,63,33,0,30.4,16.2],[178,47,63,37,0,30.4,17.2]],framerate:30});p=[a,b,f,g,h],k=new createjs.Container,k.x=200,k.y=305,j.addChild(k,l),createjs.Ticker.timingMode=createjs.Ticker.RAF,m=createjs.Ticker.on("tick",c),setTimeout(e,5e3),setTimeout(d,15e3)}function c(a){g(a),t?a.runTime-q>25&&90>u&&(u+=.7):a.runTime-q>25&&(f(),q=a.runTime),j.update(a),o.clearRect(0,0,n.width,n.height),o.drawImage(h,0,0)}function d(){createjs.Ticker.off("tick",m);for(var a=0;a<r.length;a++){var b=r[a];b.kill(),delete b}j.update()}function e(){j.addChild(l);for(var a=0;a<r.length;a++){var b=r[a];b._shrink=0,b.setVel(80*Math.random()-40,30*Math.random()-70)}t=!0}function f(){var a=Math.floor(5*Math.random()),b=p[a],c=new Ticket(b,0);k.addChild(c),c.setVel(80*Math.random()-40,v),c._scale=.18*Math.random()+.1,c._shrink=.2,c._gravity=.1,r.push(c)}function g(a){for(;r.length>s;){var b=r.shift();b.kill(),delete b}for(var c=0;c<r.length;c++){var b=r[c];b.update(a,u)}}$(this).append('<canvas id="lotto-plume1" width="400" height="411"></canvas><canvas id="lotto-plume2" width="377" height="411"></canvas>'),$(this).append('<div id="lotto-wds"><img src="/links/images/lotto.svg"></div>');var h,i,j,k,l,m,n=document.getElementById("lotto-plume2"),o=n.getContext("2d"),p=[],q=0,r=[],s=48,t=!1,u=0,v=-200;!function(a){function b(a,b){this.initialize(a,b)}var c=b.prototype=new createjs.Sprite;c._xVel=0,c._yVel=0,c._scale=0,c._shrink=0,c._gravity=0,c._rotation=0,c._rotationRate=0,c.Sprite_initialize=c.initialize,c.initialize=function(a,b){this.Sprite_initialize(a,b),this._rotation=6*Math.random(),this._rotationRate=400*Math.random()-200;var c=Math.floor(40*Math.random());this.gotoAndStop(c),this.play(),this.x=0,this.y=0,this.scaleX=this.scaleY=.1},c.setVel=function(a,b){this._xVel=a,this._yVel=b},c.update=function(a,b){var c=a.delta/1e3;this.x+=c*this._xVel,this.y+=c*this._yVel,this.rotation+=c*this._rotationRate,this._yVel+=this._gravity+c*b,this._scale+=c*this._shrink,this.scaleX=this.scaleY=this._scale},c.kill=function(){this.stop(),k.removeChild(this)},a.Ticket=b}(window),$(window).load(function(){a()})}),b()}),$(window).load(function(){updateGridCopyPosition(),homePageImageResize()});